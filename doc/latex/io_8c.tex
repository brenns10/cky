\hypertarget{io_8c}{\section{src/fsm/io.c \-File \-Reference}
\label{io_8c}\index{src/fsm/io.\-c@{src/fsm/io.\-c}}
}


\-I\-O \-Functions for \-F\-S\-Ms.  


{\ttfamily \#include $<$stdio.\-h$>$}\*
{\ttfamily \#include $<$wchar.\-h$>$}\*
{\ttfamily \#include $<$wctype.\-h$>$}\*
{\ttfamily \#include $<$stdbool.\-h$>$}\*
{\ttfamily \#include $<$assert.\-h$>$}\*
{\ttfamily \#include \char`\"{}fsm.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}str.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}libstephen/al.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}libstephen/ll.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}libstephen/cb.\-h\char`\"{}}\*
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\hypertarget{io_8c_a3e78bc9fcc082758cec660450164157a}{\#define {\bfseries \-C\-H\-A\-R\-S\-\_\-\-P\-E\-R\-\_\-\-D\-E\-C\-L\-A\-R\-A\-T\-I\-O\-N}~8}\label{io_8c_a3e78bc9fcc082758cec660450164157a}

\item 
\hypertarget{io_8c_a6a8d72502d3a3c50710d4cbb33b8f4c0}{\#define {\bfseries \-C\-H\-A\-R\-S\-\_\-\-P\-E\-R\-\_\-\-T\-R\-A\-N\-S\-I\-T\-I\-O\-N}~12}\label{io_8c_a6a8d72502d3a3c50710d4cbb33b8f4c0}

\item 
\hypertarget{io_8c_a081d34628e10fa71e62268e2a4840a15}{\#define {\bfseries \-T\-R\-A\-N\-S\-I\-T\-I\-O\-N\-S\-\_\-\-P\-E\-R\-\_\-\-S\-T\-A\-T\-E}~2}\label{io_8c_a081d34628e10fa71e62268e2a4840a15}

\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structfsm}{fsm} $\ast$ \hyperlink{io_8c_a156b01e2dc6a3219d79725c9f33b738e}{fsm\-\_\-read} (const wchar\-\_\-t $\ast$source, smb\-\_\-status $\ast$status)
\begin{DoxyCompactList}\small\item\em \-Read a \-Finite \-State \-Machine from its text representation. \end{DoxyCompactList}\item 
wchar\-\_\-t $\ast$ \hyperlink{io_8c_a4bcd6fb8cb67f0c3abd0574887338fb3}{fsm\-\_\-str} (const \hyperlink{structfsm}{fsm} $\ast$f)
\begin{DoxyCompactList}\small\item\em \-Return a wchar\-\_\-t$\ast$ representation of the fsm (suitable for printing). \end{DoxyCompactList}\item 
void \hyperlink{io_8c_acb881baaa8e12249b25112855ab136c5}{fsm\-\_\-print} (const \hyperlink{structfsm}{fsm} $\ast$f, \-F\-I\-L\-E $\ast$dest)
\begin{DoxyCompactList}\small\item\em \-Print the \-F\-S\-M to the desired output stream. \end{DoxyCompactList}\item 
void \hyperlink{io_8c_ac7cf43e628d0aefef49a3d290b065e9c}{fsm\-\_\-dot\-\_\-char} (\-F\-I\-L\-E $\ast$dest, wchar\-\_\-t c)
\begin{DoxyCompactList}\small\item\em \-Prints a character in an \-F\-S\-M specification to dot format. \end{DoxyCompactList}\item 
void \hyperlink{io_8c_a068179080f09c38af390ad19772f7aba}{fsm\-\_\-dot} (\hyperlink{structfsm}{fsm} $\ast$f, \-F\-I\-L\-E $\ast$dest)
\begin{DoxyCompactList}\small\item\em \-Print an \-F\-S\-M to graphviz dot format. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-I\-O \-Functions for \-F\-S\-Ms. \begin{DoxyAuthor}{\-Author}
\-Stephen \-Brennan
\end{DoxyAuthor}
\begin{DoxyDate}{\-Date}
\-Created \-Saturday, 26 \-July 2014
\end{DoxyDate}
\begin{DoxyCopyright}{\-Copyright}
\-Copyright (c) 2015, \-Stephen \-Brennan. \-Released under the \-Revised \-B\-S\-D \-License. \-See the \-L\-I\-C\-E\-N\-S\-E.\-txt file for details. 
\end{DoxyCopyright}


\-Definition in file \hyperlink{io_8c_source}{io.\-c}.



\subsection{\-Function \-Documentation}
\hypertarget{io_8c_a068179080f09c38af390ad19772f7aba}{\index{io.\-c@{io.\-c}!fsm\-\_\-dot@{fsm\-\_\-dot}}
\index{fsm\-\_\-dot@{fsm\-\_\-dot}!io.c@{io.\-c}}
\subsubsection[{fsm\-\_\-dot}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf fsm\-\_\-dot} (
\begin{DoxyParamCaption}
\item[{{\bf fsm} $\ast$}]{f, }
\item[{\-F\-I\-L\-E $\ast$}]{dest}
\end{DoxyParamCaption}
)}}\label{io_8c_a068179080f09c38af390ad19772f7aba}


\-Print an \-F\-S\-M to graphviz dot format. 

\-Graphviz is a neat \-C\-L\-I tool to create diagrams of graphs. \-The dot format is an input language for graphs. \-This function takes a \-F\-S\-M and prints it to a file as a dot file, so that it can then be converted to a image by graphviz.


\begin{DoxyParams}{\-Parameters}
{\em f} & \-The machine to print. \\
\hline
{\em dest} & \-The destination file. \\
\hline
\end{DoxyParams}


\-Definition at line 348 of file io.\-c.

\hypertarget{io_8c_ac7cf43e628d0aefef49a3d290b065e9c}{\index{io.\-c@{io.\-c}!fsm\-\_\-dot\-\_\-char@{fsm\-\_\-dot\-\_\-char}}
\index{fsm\-\_\-dot\-\_\-char@{fsm\-\_\-dot\-\_\-char}!io.c@{io.\-c}}
\subsubsection[{fsm\-\_\-dot\-\_\-char}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf fsm\-\_\-dot\-\_\-char} (
\begin{DoxyParamCaption}
\item[{\-F\-I\-L\-E $\ast$}]{dest, }
\item[{wchar\-\_\-t}]{c}
\end{DoxyParamCaption}
)}}\label{io_8c_ac7cf43e628d0aefef49a3d290b065e9c}


\-Prints a character in an \-F\-S\-M specification to dot format. 

\-This function allows for printing out some characters differently than others. \-In dot format, quotes should be escaped. \-Also, epsilon transitions should be labelled something readable.


\begin{DoxyParams}{\-Parameters}
{\em dest} & \-Destination file. \\
\hline
{\em c} & \-The character to print \\
\hline
\end{DoxyParams}


\-Definition at line 319 of file io.\-c.

\hypertarget{io_8c_acb881baaa8e12249b25112855ab136c5}{\index{io.\-c@{io.\-c}!fsm\-\_\-print@{fsm\-\_\-print}}
\index{fsm\-\_\-print@{fsm\-\_\-print}!io.c@{io.\-c}}
\subsubsection[{fsm\-\_\-print}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf fsm\-\_\-print} (
\begin{DoxyParamCaption}
\item[{const {\bf fsm} $\ast$}]{f, }
\item[{\-F\-I\-L\-E $\ast$}]{dest}
\end{DoxyParamCaption}
)}}\label{io_8c_acb881baaa8e12249b25112855ab136c5}


\-Print the \-F\-S\-M to the desired output stream. 


\begin{DoxyParams}{\-Parameters}
{\em f} & \-F\-S\-M to print. \\
\hline
{\em dest} & \-Output stream/file to print to. \\
\hline
\end{DoxyParams}


\-Definition at line 302 of file io.\-c.

\hypertarget{io_8c_a156b01e2dc6a3219d79725c9f33b738e}{\index{io.\-c@{io.\-c}!fsm\-\_\-read@{fsm\-\_\-read}}
\index{fsm\-\_\-read@{fsm\-\_\-read}!io.c@{io.\-c}}
\subsubsection[{fsm\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf fsm}$\ast$ {\bf fsm\-\_\-read} (
\begin{DoxyParamCaption}
\item[{const wchar\-\_\-t $\ast$}]{source, }
\item[{smb\-\_\-status $\ast$}]{status}
\end{DoxyParamCaption}
)}}\label{io_8c_a156b01e2dc6a3219d79725c9f33b738e}


\-Read a \-Finite \-State \-Machine from its text representation. 

\-All fsm's can be printed using \hyperlink{io_8c_acb881baaa8e12249b25112855ab136c5}{fsm\-\_\-print()}. \-This function $\ast$should$\ast$ be able to take any such string representation and convert it back into an equivalent fsm again. 
\begin{DoxyParams}{\-Parameters}
{\em source} & \-The string to read in. \\
\hline
{\em status} & \-Status variable for error reporting. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-New \-F\-S\-M, or \-N\-U\-L\-L on error. 
\end{DoxyReturn}

\begin{DoxyExceptions}{\-Exceptions}
{\em \-C\-K\-Y\-\_\-\-T\-O\-O\-\_\-\-F\-E\-W\-\_\-\-L\-I\-N\-E\-S} & if there isn't at least one line. \\
\hline
{\em \-C\-K\-Y\-\_\-\-M\-A\-L\-F\-O\-R\-M\-E\-D\-\_\-\-T\-R\-A\-N\-S} & if there is a problem reading a transition. \\
\hline
\end{DoxyExceptions}


\-Definition at line 219 of file io.\-c.

\hypertarget{io_8c_a4bcd6fb8cb67f0c3abd0574887338fb3}{\index{io.\-c@{io.\-c}!fsm\-\_\-str@{fsm\-\_\-str}}
\index{fsm\-\_\-str@{fsm\-\_\-str}!io.c@{io.\-c}}
\subsubsection[{fsm\-\_\-str}]{\setlength{\rightskip}{0pt plus 5cm}wchar\-\_\-t$\ast$ {\bf fsm\-\_\-str} (
\begin{DoxyParamCaption}
\item[{const {\bf fsm} $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{io_8c_a4bcd6fb8cb67f0c3abd0574887338fb3}


\-Return a wchar\-\_\-t$\ast$ representation of the fsm (suitable for printing). 


\begin{DoxyParams}{\-Parameters}
{\em f} & \-The \-F\-S\-M to print \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-The string version of the \-F\-S\-M. 
\end{DoxyReturn}


\-Definition at line 245 of file io.\-c.

